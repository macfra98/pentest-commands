#!/bin/bash

_VERSION="2.2.2"
printf '%b' "\033[3;32mpentest-commands v$_VERSION\n\n\033[0m"

INSTALL_PATH=$(pwd)
SHELL=$(basename $SHELL)
WHO_AM_I=$(whoami)

if [ $WHO_AM_I = "root" ]; then
    printf '%b' "\033[1;31m[!]\033[0m You are trying to run this script as root, which can cause issues.\n"
    read -p "$(printf '%b' "\033[1;33m[?]\033[0m Are you sure you wanna continue(y/n) -> ")" answer  

    if [ "$answer" = "y" ]; then
        echo "Continueing...\n"
    else
        echo "Exiting..."
        exit
    fi
fi


if [ "$SHELL" = "bash" ]; then
	# Execute the script with a different shebang
	if (exec /bin/bash $INSTALL_PATH/.bash_installs); then
    echo "Or simply use . ~/.bashrc to update the .bashrc-file"

	echo """
	 .       O .oO(USE RESPONSIBLY!)
	   .    /|-     .
		/\   .      .
	 .    <---->
	       O  O          
	"""
    
    printf '%b' "\033[1;33m[!]\033[0m USE THE GUIDE-TOOL: \033[1;32mcommands\033[0m for more information!\n"

	fi

elif [ "$SHELL" = "zsh" ]; then
	# Execute the script with a different shebang
	if (exec /bin/zsh $INSTALL_PATH/.zsh_installs); then
    echo "Or simply use . ~/.zshrc to update the .zshrc-file"

	echo """
	 .       O .oO(USE RESPONSIBLY!)
	   .    /|-     .
		/\   .      .
	 .    <---->
	       O  O          
	"""

    printf '%b' "\033[1;33m[!]\033[0m USE THE GUIDE-TOOL: \033[1;32mcommands\033[0m for more information!\n"

	fi

else
    echo "[-] Unsupported shell"
    exit 1
fi

